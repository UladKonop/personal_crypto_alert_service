<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>ðŸŽ¯ Price Alerts</h1>
  <%= link_to "Create New Alert", new_alert_path, class: "btn btn-primary" %>
</div>

<% if @alerts.any? %>
  <div class="row">
    <% @alerts.each do |alert| %>
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card alert-card <%= 'inactive' unless alert.active %>">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <h5 class="card-title mb-0"><%= alert.symbol %></h5>
              <span class="badge <%= alert.active? ? 'bg-success' : 'bg-secondary' %> status-badge">
                <%= alert.active? ? 'Active' : 'Inactive' %>
              </span>
            </div>
            
            <div class="mb-3">
              <div class="d-flex align-items-center mb-1">
                <span class="badge bg-<%= alert.direction == 'above' ? 'danger' : 'info' %> me-2">
                  <%= alert.direction == 'above' ? 'â¬†' : 'â¬‡' %>
                </span>
                <strong>$<%= alert.threshold_price %></strong>
              </div>
              <small class="text-muted">
                Alert when price goes <%= alert.direction %> this threshold
              </small>
            </div>
            
            <div class="mb-3">
              <strong>Notifications:</strong><br>
              <% alert.notification_channels_array.each do |channel| %>
                <span class="badge bg-secondary me-1"><%= channel %></span>
              <% end %>
            </div>
            
            <small class="text-muted d-block mb-3">
              Created <%= time_ago_in_words(alert.created_at) %> ago
            </small>
            
            <div class="d-flex gap-2">
              <%= link_to "View", alert, class: "btn btn-sm btn-outline-primary" %>
              <%= link_to "Edit", edit_alert_path(alert), class: "btn btn-sm btn-outline-secondary" %>
              <%= link_to "Delete", alert, data: { method: :delete, confirm: "Are you sure?" }, 
                        class: "btn btn-sm btn-outline-danger" %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="text-center py-5">
    <div class="mb-4">
      <i class="display-1">ðŸŽ¯</i>
    </div>
    <h3 class="text-muted">No alerts created yet</h3>
    <p class="text-muted">Create your first crypto price alert to monitor the market!</p>
    <%= link_to "Create Your First Alert", new_alert_path, class: "btn btn-primary btn-lg" %>
  </div>
<% end %>
